//@ts-nocheck
import { interpolate } from "flubber";
import { useSpring, Spring, animated as a } from "react-spring";
import React, { useEffect } from "react";

const xPaths = [
  "M2,0 L46,0 C47.1045695,0 48,0.8954305 48,2 C48,3.1045695 47.1045695,4 46,4 L2,4 C0.8954305,4 0,3.1045695 0,2 C0,0.8954305 0.8954305,0 2,0 Z",
  "M2,18 L46,18 C47.1045695,18 48,18.8954305 48,20 C48,21.1045695 47.1045695,22 46,22 L2,22 C0.8954305,22 0,21.1045695 0,20 C0,18.8954305 0.8954305,18 2,18 Z",
  "M2,36 L46,36 C47.1045695,36 48,36.8954305 48,38 C48,39.1045695 47.1045695,40 46,40 L2,40 C0.8954305,40 0,39.1045695 0,38 C0,36.8954305 0.8954305,36 2,36 Z",
];

const menuPaths = [
  "M2.02943725,33.1421356 L33.1421356,2.02943725 C33.9231842,1.24838867 35.1895142,1.24838867 35.9705627,2.02943725 C36.7516113,2.81048584 36.7516113,4.07681579 35.9705627,4.85786438 L4.85786438,35.9705627 C4.07681579,36.7516113 2.81048584,36.7516113 2.02943725,35.9705627 C1.24838867,35.1895142 1.24838867,33.9231842 2.02943725,33.1421356 Z",
  "M19.7324362,16.9040091 L4.85786438,2.02943725 C4.07681579,1.24838867 2.81048584,1.24838867 2.02943725,2.02943725 C1.24838867,2.81048584 1.24838867,4.07681579 2.02943725,4.85786438 L16.9040091,19.7324362 C17.6850577,20.5134848 18.9513876,20.5134848 19.7324362,19.7324362 C20.5134848,18.9513876 20.5134848,17.6850577 19.7324362,16.9040091 Z",
  "M35.9705627,33.1421356 L21.0959909,18.2675638 C20.3149423,17.4865152 19.0486124,17.4865152 18.2675638,18.2675638 C17.4865152,19.0486124 17.4865152,20.3149423 18.2675638,21.0959909 L33.1421356,35.9705627 C33.9231842,36.7516113 35.1895142,36.7516113 35.9705627,35.9705627 C36.7516113,35.1895142 36.7516113,33.9231842 35.9705627,33.1421356 Z",
];

const paths = menuPaths.map((p, i) => [p, xPaths[i]]);

const menuSvgPathInterpolators = [];

for (let i = 0; i < paths.length; i++) {
  let hmmmm = [];
  for (let p = 0; p < paths[0].length; p++) {
    hmmmm.push(
      interpolate(paths[i][p], paths[i][(p + 1) % 2], {
        maxSegmentLength: 0.3,
      })
    );
  }
  menuSvgPathInterpolators.push(hmmmm);
}
console.log(menuSvgPathInterpolators[2][1](0.5));

const MenuButton = ({ burger }: { burger: boolean }) => {
  const [{ t }, set] = useSpring(() => ({ t: 0 }));
  useEffect(() => {
    console.log(burger);
    if (burger) set({ t: 0 });
    else set({ t: 1 });
  }, [burger]);

  return (
    <>
      <div
        style={{
          width: "48px",
          height: "48px",
          display: "flex",
          justifyContent: "center",
          alignItems: "center",
        }}
      >
        <svg width="50" viewBox={`-2 -2 48 48`}>
          <g fill={"#000000"}>
            {menuSvgPathInterpolators.map((item, i) => (
              <a.path key={i} d={t.to((t) => item[1](t))} />
            ))}
          </g>
        </svg>
      </div>
    </>
  );
};

export default MenuButton;
